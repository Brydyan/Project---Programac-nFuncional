<div class="dashboard-shell">
  <!-- TOP BAR -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="app-logo">YF</div>
      <div class="app-meta">
        <h1 class="app-title">YARG Flow</h1>
        <span class="app-subtitle">MensajerÃ­a en tiempo real</span>
      </div>
    </div>

    <div class="topbar-center">
      <div class="topbar-actions">
        <button class="chip-button" (click)="addFriend()">ï¼‹ Amigo</button>
        <button class="chip-button" (click)="viewNotifications()">ğŸ”” Notif.</button>
        <button class="chip-button" (click)="getHelp()">â“ Ayuda</button>
      </div>

      <div class="search-wrapper">
        <span class="search-icon">ğŸ”</span>
        <input
          type="text"
          class="search-input"
          placeholder="Buscar conversaciÃ³n o canal"
          [(ngModel)]="searchText"
          (keyup.enter)="onSearch()"
        />
      </div>
    </div>

    <div class="topbar-right">
      <div class="user-pill">
        <span class="user-avatar">ğŸ‘¤</span>
        <span class="user-name">Usuario</span>
      </div>
      <button class="logout-button" (click)="logout()">Salir</button>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL: SIDEBAR + WORKSPACE -->
  <div class="dashboard-main">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <span class="sidebar-title">NavegaciÃ³n</span>
      </div>

      <nav class="menu-sections">
        <button
          *ngFor="let section of menuSections"
          class="menu-section"
          type="button"
          [class.active]="activeSection === section.title"
          (click)="navigateToSection(section)"
        >
          <span class="menu-icon">{{ section.icon }}</span>
          <span class="menu-title">{{ section.title }}</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <span class="status-dot"></span>
        <span class="status-text">Conectado</span>
      </div>
    </aside>

    <!-- WORKSPACE (AQUÃ VAN LAS RUTAS HIJAS) -->
    <main class="workspace">
      <router-outlet
        (activate)="onChildActivate()"
        (deactivate)="onChildDeactivate()"
      ></router-outlet>

      <!-- MOSTRAR SOLO SI NO HAY COMPONENTE HIJO ACTIVO -->
      <div class="workspace-empty" *ngIf="!hasChildActive">
        <h2>Bienvenido a YARG Flow ğŸ‘‹</h2>
        <p class="empty-text">
          Selecciona una conversaciÃ³n en el menÃº lateral o inicia un nuevo chat.
        </p>
        <p class="empty-hint">
          Usa la barra de bÃºsqueda de arriba para encontrar canales y contactos.
        </p>
      </div>
    </main>
  </div>

  <!-- FOOTER -->
  <footer class="dashboard-footer">
    <span>Â© 2025 YARG FLOW</span>
    <span class="dot-separator">â€¢</span>
    <span>Proyecto PF Â· Universidad</span>
  </footer>
</div>