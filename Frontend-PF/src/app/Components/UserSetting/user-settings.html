<!-- src/app/Components/UserSettings/user-settings.html -->
<div class="user-settings">
  <div class="user-profile">
    <h2>Perfil del Usuario</h2>
    <form>
      <label>
        Nombre de Usuario
        <input type="text" [(ngModel)]="username" placeholder="UsuarioPureChat" />
      </label>
      <label>
        Estado
        <select [(ngModel)]="selectedStatus">
          <option *ngFor="let option of statusOptions" [value]="option">{{ option }}</option>
        </select>
      </label>
      <div class="profile-photo-section">
        <div class="photo-placeholder">
          <img *ngIf="profileImage; else noImage" [src]="profileImage" alt="Foto de Perfil" class="profile-photo" />
          <ng-template #noImage>
            <div class="no-photo-placeholder">No Image</div>
          </ng-template>
        </div>
        <button type="button" (click)="changePhoto()">Cambiar Foto</button>
      </div>
    </form>
  </div>

  <div class="user-notification">
    <h2>Notificaciones</h2>
    <p>Configura cómo y cuándo recibir alertas</p>
    <label class="toggle-switch">
      <input type="checkbox" [(ngModel)]="notificationsSettings.activate" />
      <span class="switch-slider"></span>
      Activar notificaciones
    </label>
    <label class="toggle-switch">
      <input type="checkbox" [(ngModel)]="notificationsSettings.sound" />
      <span class="switch-slider"></span>
      Sonidos de mensajes
    </label>
    <label class="toggle-switch">
      <input type="checkbox" [(ngModel)]="notificationsSettings.desktop" />
      <span class="switch-slider"></span>
      Notificaciones en el escritorio
    </label>
  </div>

  <div class="user-appearance">
    <h2>Apariencia</h2>
    <p>Personaliza el aspecto de la aplicación</p>
    <label>
      Tema
      <select [(ngModel)]="appearanceSettings.theme">
        <option value="claro">Claro</option>
        <option value="oscuro">Oscuro</option>
        <option value="automatico">Automático</option>
      </select>
    </label>
    <label>
      Tamaño de Fuente
      <input type="range" min="10" max="24" [(ngModel)]="appearanceSettings.fontSize" />
    </label>
  </div>

  <div class="user-preview">
    <h2>Previsualización del Perfil</h2>
    <p>Así te verán los demás</p>
    <div class="preview-card">
      <div class="avatar">
        <img *ngIf="profileImage; else noAvatar" [src]="profileImage" alt="Avatar" class="profile-photo" />
        <ng-template #noAvatar>
          <div class="no-photo-placeholder">No Avatar</div>
        </ng-template>
        <span class="status-indicator" [class.online]="selectedStatus==='Online'"
                  [class.offline]="selectedStatus==='Offline'"
                  [class.ausente]="selectedStatus==='Ausente'"
                  [class.ocupado]="selectedStatus==='Ocupado'"> </span>
      </div>
      <div class="preview-info">
        <h4>{{ username }}</h4>
        <p>Tu perfil se verá así para otros usuarios. Los cambios se aplicarán al guardar.</p>
      </div>
    </div>
  </div>

  <div class="user-actions">
    <button class="btn-primary" (click)="saveChanges()">Guardar Cambios</button>
    <button class="btn-secondary" (click)="resetDefaults()">Restablecer a valores predeterminidos</button>
    <div class="bottom-bar">
      <a href="#" target="_blank">Enlace Popular</a> | <a href="#" target="_blank">Soporte</a>
    </div>
  </div>
</div>