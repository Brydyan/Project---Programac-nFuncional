import{a as M}from"./chunk-PPUZVKXG.js";import{a as k}from"./chunk-5APZ7EMV.js";import{a as y}from"./chunk-4N7PJ33N.js";import{b as _,d as x,g as S,q as P}from"./chunk-EHQ257GK.js";import{i as v}from"./chunk-DTPHU4DJ.js";import{Ea as s,Ja as f,Qb as C,Xa as e,Ya as t,Za as m,cb as o,fb as d,gb as i,jb as b,kb as g,lb as h,ua as a}from"./chunk-GOBX2HRP.js";var E=class u{constructor(p,l,n,r){this.router=p;this.channelService=l;this.sessionService=n;this.channelEvents=r;let c=localStorage.getItem("token");this.sessionService.getByToken(c).subscribe(I=>{this.ownerId=I.userId})}name="";type="PUBLIC";ownerId=null;close(){this.router.navigate(["/dashboard/channels"])}createChannel(){if(!this.name.trim()||!this.ownerId)return;let p={name:this.name.trim(),type:this.type,ownerId:this.ownerId,members:[this.ownerId]};this.channelService.create(p).subscribe({next:()=>{this.channelEvents.emitRefresh(),this.close()},error:()=>alert("Error al crear canal")})}static \u0275fac=function(l){return new(l||u)(s(v),s(k),s(y),s(M))};static \u0275cmp=f({type:u,selectors:[["app-create-channel"]],decls:35,vars:9,consts:[[1,"modal-overlay",3,"click"],[1,"modal-box"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-subtitle"],[1,"section-title"],["type","text","placeholder","Ej: Equipo de Soporte",3,"ngModelChange","ngModel"],[1,"privacy-card",3,"click"],[1,"radio-circle"],[1,"modal-actions"],[1,"cancel-btn",3,"click"],[1,"create-btn",3,"click"]],template:function(l,n){l&1&&(e(0,"div",0),o("click",function(){return n.close()}),t(),e(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Crear Nuevo Canal"),t(),e(5,"span",3),o("click",function(){return n.close()}),i(6,"\u2715"),t()(),e(7,"p",4),i(8,"Ingrese los detalles para su nuevo canal."),t(),e(9,"div",5),i(10,"Detalles del Canal"),t(),e(11,"label"),i(12,"Nombre del Canal"),t(),e(13,"input",6),h("ngModelChange",function(c){return g(n.name,c)||(n.name=c),c}),t(),e(14,"div",5),i(15,"Privacidad"),t(),e(16,"div",7),o("click",function(){return n.type="PUBLIC"}),m(17,"div",8),e(18,"div")(19,"h4"),i(20,"P\xFAblico"),t(),e(21,"p"),i(22,"Visible para todos los miembros del espacio."),t()()(),e(23,"div",7),o("click",function(){return n.type="PRIVATE"}),m(24,"div",8),e(25,"div")(26,"h4"),i(27,"Privado"),t(),e(28,"p"),i(29,"Solo miembros invitados pueden acceder."),t()()(),e(30,"div",9)(31,"button",10),o("click",function(){return n.close()}),i(32,"Cancelar"),t(),e(33,"button",11),o("click",function(){return n.createChannel()}),i(34,"Crear Canal"),t()()()),l&2&&(a(13),b("ngModel",n.name),a(3),d("active",n.type==="PUBLIC"),a(),d("selected",n.type==="PUBLIC"),a(6),d("active",n.type==="PRIVATE"),a(),d("selected",n.type==="PRIVATE"))},dependencies:[C,P,_,x,S],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background:#0000008c;z-index:50}.modal-box[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#1a1a1f;width:430px;padding:25px;border-radius:14px;border:1px solid #2e2e35;box-shadow:0 0 20px #0006;z-index:60;color:#fff}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.close-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:20px;opacity:.7}.close-btn[_ngcontent-%COMP%]:hover{opacity:1}.modal-subtitle[_ngcontent-%COMP%]{margin-top:5px;opacity:.7}.section-title[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:8px;font-size:14px;font-weight:600;opacity:.9}label[_ngcontent-%COMP%]{font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:8px;background:#111;border:1px solid #333;color:#fff;margin-bottom:15px}.privacy-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;background:#111;padding:12px;border-radius:10px;border:1px solid #333;margin-bottom:10px;cursor:pointer;transition:.2s}.privacy-card.active[_ngcontent-%COMP%]{border-color:#8b5dff;background:#181424}.radio-circle[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #777;border-radius:50%;margin-right:10px}.radio-circle.selected[_ngcontent-%COMP%]{background:#8b5dff;border-color:#8b5dff}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}.cancel-btn[_ngcontent-%COMP%]{background:#333;border:none;padding:10px 18px;border-radius:8px;color:#fff;margin-right:10px;cursor:pointer}.create-btn[_ngcontent-%COMP%]{background:#9b6dff;border:none;padding:10px 18px;border-radius:8px;color:#fff;font-weight:600;cursor:pointer}.create-btn[_ngcontent-%COMP%]:hover{background:#b488ff}"]})};export{E as CreateChannel};
